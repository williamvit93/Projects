DROP TABLE campanha cascade constraint;
drop table cliente cascade constraint;
drop table funcionario cascade constraint;
drop table pf;
drop table pj;
drop table produto cascade constraint;
drop table ATENDIMENTO cascade constraint;
drop table PEDIDO cascade constraint;
drop table VENDA cascade constraint;



--CREATE TABLE DEPARTAMENTO (
--NOMEDEPT VARCHAR2(50),
--CODDEPT NUMBER (4),
--CONSTRAINT PK_CODDEPT PRIMARY KEY (CODDEPT));

CREATE TABLE CAMPANHA (
CODCAMPANHA VARCHAR2 (10),
--CodDEPT NUMBER (4),
DATAINICIO DATE,
DATAFIM DATE,
PUBLICOALVO VARCHAR2(10),
INVESTIMENTO NUMBER (4,4),
CONSTRAINT PK_CODCAMPANHA PRIMARY KEY (CODCAMPANHA));
--CONSTRAINT FK_CODDEPARTAMENTO FOREIGN KEY (CodDEPT) REFERENCES DEPARTAMENTO (CODDEPT));

--CREATE TABLE TIPO (
--CODTIPO NUMBER (4),
--DESCRICAO VARCHAR2 (10),
--CONSTRAINT PK_CODTIPO PRIMARY KEY (CODTIPO));

--CREATE TABLE ACESSO (
--CODACESSO VARCHAR2 (30),
--senha VARCHAR2 (8),
--dataacesso date,
--horaacesso date,
--constraint pk_codacesso primary key (codacesso));

CREATE TABLE FUNCIONARIO (
CODFUNC VARCHAR2(30),
SENHA VARCHAR2 (8),
NOME VARCHAR2 (30),
CPFFUN VARCHAR2 (15),
CARGOENTRADA VARCHAR2 (40),
SETOR VARCHAR2 (30),
BASESALARIAL NUMBER (10,2),
CARGOATUAL VARCHAR2 (40),
DATAADMISSAO DATE,
CEP VARCHAR2 (10),
RUA VARCHAR2(30),
NUMERO VARCHAR2 (8),
CIDADE VARCHAR2(30),
BAIRRO VARCHAR2(30),
UF VARCHAR2(2),
CONSTRAINT PK_CODFUNC PRIMARY KEY (CODFUNC));


CREATE TABLE CLIENTE (
CODCLIENTE VARCHAR2(15),
TELEFONE VARCHAR2(15),
CELULAR VARCHAR2(15),
CEP VARCHAR2 (10),
BAIRRO VARCHAR2 (30),
RUA VARCHAR2 (30),
UF VARCHAR2 (2),
CIDADE VARCHAR2 (30),
NUMEROENDERECO VARCHAR2 (6),
NOME VARCHAR2 (60),
EMAIL VARCHAR2 (40),
EFETIVO CHAR(1),-- PENDENTE NO JAVA
POTENCIAL CHAR(1),-- PENDENTE NO JAVA
CONSTRAINT PK_CODCLIENTE PRIMARY KEY (CODCLIENTE));

CREATE TABLE PF (
CODPF VARCHAR2(10),
CODCLIENTE VARCHAR2(15),
CPF VARCHAR2 (15),
ESTADOCIVIL VARCHAR2 (10),
SEXO CHAR (1),
DATANASCIMENTO DATE,
CONSTRAINT PK_CODPF PRIMARY KEY (CODPF),
CONSTRAINT FK_CODCLIENTEPF FOREIGN KEY (CODCLIENTE) REFERENCES CLIENTE (CODCLIENTE));


CREATE TABLE PJ (
CODPJ VARCHAR (10),
CODCLIENTE VARCHAR2(15),
CNPJ VARCHAR2 (15),
TIPOORGANIZACAO VARCHAR2 (50),
CONSTRAINT PK_CODPJ PRIMARY KEY (CODPJ),
CONSTRAINT FK_CODCLIENTEPJ FOREIGN KEY (CODCLIENTE) REFERENCES CLIENTE (CODCLIENTE));


create table Atendimento(
CodAten VARCHAR(10),
--CodCAMPANHA VARCHAR2(4),
--CodRegistro VARCHAR2(4),
CodCliente VARCHAR2(15),
CODFUNC VARCHAR2(30),
--CodTipo Number(4),
Assunto Varchar2(50),
Status VARCHAR2(30),
DataInicio Date,
DataFim Date,
SUGESTAO varchar2(100),
reclamacao varchar2(100),
Constraint PK_CODATEN primary key (CodAten),
--CONSTRAINT fk_CodCAMPANHA foreign key (CodCAMPANHA) references CAMPANHA (CodCAMPANHA),
CONSTRAINT fk_CODFUNC foreign key (CODFUNC) references Funcionario (CODFUNC),
CONSTRAINT fk_CodCLIENTE foreign key (CodCliente) references Cliente (CodCliente));
--CONSTRAINT fk_CodTIPO foreign key (CodTipo) references Tipo (CodTipo));

--CREATE TABLE TELEFONE (
--NUMERO NUMBER (8),
--CODREGISTRO NUMBER (4),
--CODCLIENTE NUMBER (4),
--CELULAR NUMBER (9),
--TELEFONECOMERC NUMBER(9),
--CONSTRAINT PK_NUMERO PRIMARY KEY (NUMERO),
--CONSTRAINT FK_CODREGISTRO1 FOREIGN KEY (CODREGISTRO) REFERENCES FUNCIONARIO (CODREGISTRO),
--CONSTRAINT FK_CODCLIENTE2 FOREIGN KEY (CODCLIENTE) REFERENCES CLIENTE (CODCLIENTE));



CREATE TABLE PRODUTO (
CODPRODUTO VARCHAR2(15),
CATEGORIA NUMBER (4),
NOMEPRODUTO VARCHAR2 (20),
DESCRICAO VARCHAR2 (10),
VALOR NUMBER (4,4),
QUANTIDADE NUMBER (5),
CONSTRAINT PK_CODPRODUTO PRIMARY KEY (CODPRODUTO));

CREATE TABLE PEDIDO (
CODPEDIDO VARCHAR2(15),
CODPRODUTO VARCHAR2(15),
CODCLIENTE VARCHAR2(15),
DATAABERTURA DATE,
VALORUNITARIO NUMBER (4,4),
VALORTOTAL NUMBER (4,4),
NOTAFISCAL NUMBER (6),
DESCONTO NUMBER (4,4),
STATUSPAGTO VARCHAR2(10),
CONSTRAINT PK_CODPEDIDO PRIMARY KEY (CODPEDIDO),
CONSTRAINT FK_CODPRODUTO FOREIGN KEY (CODPRODUTO) REFERENCES PRODUTO (CODPRODUTO),
CONSTRAINT FK_CODCLIENTE3 FOREIGN KEY (CODCLIENTE) REFERENCES CLIENTE (CODCLIENTE));


CREATE TABLE VENDA(
CODVENDA VARCHAR2(15),
CODPEDIDO VARCHAR2(15),
VALOR NUMBER(8,2),
DATAPAGAMENTO DATE,
DATAENVIO DATE,
CEP VARCHAR2 (10),
RUA VARCHAR2(50),
NUMEROENVIO VARCHAR2(6),
BAIRROENVIO VARCHAR2(50),
UFENVIO VARCHAR2(2),
FORMAPAGAMENTO VARCHAR2(20),
CONSTRAINT PK_CODVENDA PRIMARY KEY (CODVENDA),
CONSTRAINT FK_CODPEDIDO FOREIGN KEY (CODPEDIDO) REFERENCES PEDIDO (CODPEDIDO));

-- INSERTS NECESSARIOS:
INSERT INTO FUNCIONARIO (CODFUNC, SENHA, NOME, CPFFUN, CARGOENTRADA, SETOR, BASESALARIAL, CARGOATUAL, DATAADMISSAO, CEP, RUA, NUMERO, CIDADE, BAIRRO, UF) VALUES
('admin', 'password', 'TechSolutions', '12345678912', 'analista de MKT', 'RH', 500000, 'Gerente de MKT', '10-10-2010', '09876543', 'Amaral', '300', 'York', 'Lago', 'SP');

INSERT INTO PEDIDO (CODPEDIDO) VALUES
('PE0000');
INSERT INTO PEDIDO (CODPEDIDO) VALUES
('PE0001');
INSERT INTO PEDIDO (CODPEDIDO) VALUES
('PE0002');


INSERT INTO VENDA ( CODVENDA, CODPEDIDO, VALOR, DATAPAGAMENTO, DATAENVIO, CEP, RUA, NUMEROENVIO, BAIRROENVIO, UFENVIO, FORMAPAGAMENTO) VALUES 
('VE0000', 'PE0000', 40, '27-11-2014', '28-11-2014', '49538278', 'Rio Claro', '368', 'Folhas', 'SP', 'Cartão');

INSERT INTO VENDA ( CODVENDA, CODPEDIDO, VALOR, DATAPAGAMENTO, DATAENVIO, CEP, RUA, NUMEROENVIO, BAIRROENVIO, UFENVIO, FORMAPAGAMENTO) VALUES 
('VE0001', 'PE0001', 70, '10-11-2014', '11-11-2014', '38560148', 'Rio Branco', '110', 'Monte Verde', 'SP', 'Dinheiro');

INSERT INTO VENDA ( CODVENDA, CODPEDIDO, VALOR, DATAPAGAMENTO, DATAENVIO, CEP, RUA, NUMEROENVIO, BAIRROENVIO, UFENVIO, FORMAPAGAMENTO) VALUES 
('VE0002', 'PE0002', 300, '09-07-2013', '10-07-2014', '51038573', 'Águas Claras', '986', 'Serra Dourada', 'SP', 'Boleto');

commit;



